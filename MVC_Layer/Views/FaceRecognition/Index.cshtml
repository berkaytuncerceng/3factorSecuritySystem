@{
    Layout = null;
}

<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yüz Tanıma</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="~/css/FaceRecognition.css" rel="stylesheet">
</head>
<body class="bg-gradient">
    <div class="container-fluid d-flex justify-content-center align-items-center vh-100">
        <div class="card shadow-lg p-4 rounded-4" style="max-width: 600px;">
            <div class="card-body">
                <h1 class="card-title mb-4 text-light text-center" id="statusMessage">Kamera Açıldı</h1>
                <div class="video-container mb-4">
                    <video id="videoElement" autoplay class="w-100 rounded-3 shadow-lg"></video>
                    <div id="progressCircle" class="progress-circle"></div>
                </div>
                <div class="d-flex justify-content-center gap-4">
                    <button class="btn btn-primary-custom" id="captureBtn">Tanımaya Başla</button>
                    <button class="btn btn-secondary-custom" id="passBtn">Geç (Parmak İzi)</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        const videoElement = document.getElementById("videoElement");
        const statusMessage = document.getElementById("statusMessage");
        const progressCircle = document.getElementById("progressCircle");

        // Kamerayı açma işlemi
        navigator.mediaDevices.getUserMedia({ video: true })
            .then((stream) => {
                videoElement.srcObject = stream;
            })
            .catch((error) => {
                console.error("Kamera açılırken bir hata oluştu:", error);
                alert("Kameraya erişim izni gerekli.");
            });

        // Tanıma başlatma düğmesi
        document.getElementById("captureBtn").addEventListener("click", () => {
            statusMessage.textContent = "Yüz Tarama Başladı...";
            progressCircle.style.display = "block";
            alert("Tanıma işlemi başlatılacak.");
        });

        // "Geç (Parmak İzi)" butonuna tıklanınca parmak izi sayfasına yönlendirme
        document.getElementById("passBtn").addEventListener("click", function () {
            window.location.href = "/Fingerprint/Index";
        });
    </script>
</body>
</html>
